[Files]
input_file = in\HDP00337_DataDictionary_BSCIP1_2023-08-07.xlsx
input_worksheet = Sheet1
output_file = out\HDP00337_DataDictionary_BSCIP1_2023-08-07_2024-12-13.xlsx
enhanced_output_file = out\HDP00337_DataDictionary_BSCIP1_2023-08-07_2024-12-13_enhanced.xlsx
json_input_file = out\HDP00125_DataDictionary_2023-08-22_2024-12-09_enhanced.json
json_output_file = out\HDP00125_DataDictionary_2023-08-22_2024-12-09_enhanced_varmatch.json

[Columns]
crf_column = Form Name
variable_column = Variable / Field Name
description_column = Field Label

[OpenAI]
api_key = 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
assistant_id = asst_tkv4IfeSQIgxfKpBnCdtTrQG
temperature = 0.5
file_id = vs_2ODNMUHpu1hQLMjIzdnztGXZ
akshay_assistant_id = asst_EmhKXay7p1t4xOBhDW6eJOYE
akshay_vs_id = vs_yCNgU4H1BLK8JMArWw4qT2tJ
akshay_kb_file_id = file-PUcqDe3iZ1oJt1EbKfX4y6
akshay_kbdo_file_id = file-DqGsLyGWLx7dcuCS5XTbL3


[Instructions]
crf_id = Your role is to identify the name of a questionnaire, aka case report forms or CRFs, based on the entry name and descriptions.
    Please strictly adhere to this response format:
    - CRF name: Your chosen questionnaire, or CRF, name.
    - Rationale: a short rationale of your findings.
matching_instruction = Match the CRF name and descriptions to one of the HEAL Core CRFs listed in the vector store. Do not generate or infer names outside this list. Only respond with an exact match from the provided CRF list.
    Please strictly adhere to this response format:
    - HEAL Core CRF Match: Your chosen HEAL CDE
    - Confidence level: Your chosen confidence level
    - Rationale: A short explanation of your findings
    Form Name and Description Matching:
    - For each CRF, you will receive its name and a concatenated set of variable descriptions.
    - Compare the CRF name and descriptions against the list of HEAL Core CRFs to identify the closest match.
    - Use semantic understanding to match, accounting for slight variations in names or terminology.
    - Only respond with matches from this list of HEAL Core CRFs (as found in the vector store):
        - Brief Pain Inventory (BPI)
        - BPI Pain Interference
        - BPI Pain Severity
        - Demographics
        - SDOH Demographics
        - Generalized Anxiety Disorder (GAD2)
        - GAD2 Pain
        - NIDA Modified ASSIST L2 (NIDAL2)
        - PCS 6
        - PCS Child
        - PCS Parent
        - Pediatric Quality of Life Inventory (PedsQL)
        - PEG Pain
        - Patient Global Impression of Change Pain (PGIC)
        - Patient Global Impression of Severity (PGIS)
        - Patient Health Questionnaire 2 (PHQ2)
        - PHQ2 Pain
        - PROMIS Physical Function Pain (PROMIS PF Pain)
        - PROMIS Physical Function Pain 6b (PROMIS PF Pain 6b)
        - PROMIS Sleep Disturbance 6a
        - Sleep Duration Pain
        - Adolescent Sleep Wake Scale (SleepASWS)
        - TAPS Pain
    Contextual Understanding:
    - Recognize that some CRFs, such as BPI Pain Severity and BPI Pain Interference, are specific sections within broader questionnaires (e.g., BPI).
    - Leverage context from descriptions (e.g., keywords like anxiety, depression, sleep disturbance) to better understand the focus of each CRF and improve match accuracy.
    Response Guidance:
    - For each CRF name and description, return the most likely HEAL Core CRF match (if applicable) along with a confidence score.
        - Limit your responses to only the names of the CRFs in the HEAL Core CDE list (stored in the vector store as vs_2ODNMUHpu1hQLMjIzdnztGXZ).
    - Use the following confidence levels:
        - High Confidence - the CRF name and/or descriptions closely match a HEAL Core CRF name and description.
        - Medium Confidence - the CRF name and/or descriptions are not an exact match but share significant themes or concepts with a HEAL Core CRF.
    - If no match is found (if neither the CRF nor the descriptions resemble any HEAL Core CRF or its relevant themes):
        - return No CRF match
variable_matching = Analyze the contents of each name nested under its respective module in the provided JSON file. The goal is to determine whether each name, which represents a variable, matches a HEAL CDE variable from a pre-defined list of HEAL CDE variables stored in the HEAL CDE JSON file, in your vector store (vs_yCNgU4H1BLK8JMArWw4qT2tJ file-PUcqDe3iZ1oJt1EbKfX4y6).
    For each variable name, provide the following in a nested JSON format:
    - module_name: the provided module name
    - entries:
        - name: variable name from the json file
        - standards_mapping_type: your chosen identification of whether or not this is a CDE match
        - heal_cde_name: your identified HEAL CDE name
        - variable_cde_name: the variable name as listed in the vector store for the respected CDE
    Guidelines:
        - Match Variable Names to HEAL CDE Variables: compare each variable name in the provided JSON file against the HEAL CDE variable list from the HEAL CDE JSON file. Determine if the variable matches a HEAL CDE variable.
        - Limit your classification of mapping type to:
            - HEAL CDE Match: When the variable matches a HEAL CDE variable directly.
            - Potential HEAL CDE Match: When the variable aligns partially with a HEAL CDE variable (e.g., similar themes or context).
            - No Match: When the variable does not correspond to any HEAL CDE variable.
        - Provide the HEAL CDE Name as listed on the vector store JSON file.
        - Provide the variable name as listed on the vector store JSON file.
    Contextual Understanding:
    - Consider slight variations in naming conventions or themes (e.g., acronyms, synonyms, or abbreviations).
    - Leverage semantic understanding for partial matches while avoiding false positives.